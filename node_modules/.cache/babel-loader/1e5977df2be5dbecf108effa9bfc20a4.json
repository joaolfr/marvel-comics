{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useCallback, useState } from \"react\";\nimport { useLazyFetch } from \"../../services/hooks\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { setList, selectCount } from \"../../features/comic/comicSlice\"; // gateway.marvel.com/v1/public/comics?ts=1&apikey=2bc06882395b9339500cb01b1dfcbb6b&hash=5960290765b89d76491c34ed7f44521e\n\nexport default _s(() => {\n  _s();\n\n  const comic = useSelector(selectCount);\n  const dispatch = useDispatch();\n  const [marvelComics, setMarvelComics] = useState([]);\n  const [searchComics, {\n    loading,\n    error\n  }] = useLazyFetch({\n    url: `/comics?ts=1&apikey=2bc06882395b9339500cb01b1dfcbb6b&hash=5960290765b89d76491c34ed7f44521e`,\n    method: \"GET\"\n  });\n  const getComics = useCallback(async () => {\n    try {\n      const data = await searchComics();\n\n      if (data) {\n        console.log(\"dados marvel: \", data.data.results);\n        setMarvelComics(data.data.results);\n        dispatch(setList(data.data.results));\n      }\n    } catch (err) {\n      console.log(err);\n    }\n  }, []);\n  return {\n    getComics,\n    loading,\n    marvelComics\n  };\n}, \"hNkFmobrIZB/vJLwy6MNDHGQCEI=\", false, function () {\n  return [useSelector, useDispatch, useLazyFetch];\n});","map":{"version":3,"sources":["/Users/joaoluiz/Documents/workspace/ReactJs/marvel-comics/src/screens/home/hooks.js"],"names":["useCallback","useState","useLazyFetch","useSelector","useDispatch","setList","selectCount","comic","dispatch","marvelComics","setMarvelComics","searchComics","loading","error","url","method","getComics","data","console","log","results","err"],"mappings":";;AAAA,SAASA,WAAT,EAAsBC,QAAtB,QAAsC,OAAtC;AACA,SAASC,YAAT,QAA6B,sBAA7B;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,SAASC,OAAT,EAAkBC,WAAlB,QAAqC,iCAArC,C,CACA;;AAEA,kBAAe,MAAM;AAAA;;AACnB,QAAMC,KAAK,GAAGJ,WAAW,CAACG,WAAD,CAAzB;AACA,QAAME,QAAQ,GAAGJ,WAAW,EAA5B;AACA,QAAM,CAACK,YAAD,EAAeC,eAAf,IAAkCT,QAAQ,CAAC,EAAD,CAAhD;AACA,QAAM,CAACU,YAAD,EAAe;AAAEC,IAAAA,OAAF;AAAWC,IAAAA;AAAX,GAAf,IAAqCX,YAAY,CAAC;AACtDY,IAAAA,GAAG,EAAG,4FADgD;AAEtDC,IAAAA,MAAM,EAAE;AAF8C,GAAD,CAAvD;AAKA,QAAMC,SAAS,GAAGhB,WAAW,CAAC,YAAY;AACxC,QAAI;AACF,YAAMiB,IAAI,GAAG,MAAMN,YAAY,EAA/B;;AAEA,UAAIM,IAAJ,EAAU;AACRC,QAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ,EAA8BF,IAAI,CAACA,IAAL,CAAUG,OAAxC;AACAV,QAAAA,eAAe,CAACO,IAAI,CAACA,IAAL,CAAUG,OAAX,CAAf;AACAZ,QAAAA,QAAQ,CAACH,OAAO,CAACY,IAAI,CAACA,IAAL,CAAUG,OAAX,CAAR,CAAR;AACD;AACF,KARD,CAQE,OAAOC,GAAP,EAAY;AACZH,MAAAA,OAAO,CAACC,GAAR,CAAYE,GAAZ;AACD;AACF,GAZ4B,EAY1B,EAZ0B,CAA7B;AAcA,SAAO;AAAEL,IAAAA,SAAF;AAAaJ,IAAAA,OAAb;AAAsBH,IAAAA;AAAtB,GAAP;AACD,CAxBD;AAAA,UACgBN,WADhB,EAEmBC,WAFnB,EAI6CF,YAJ7C;AAAA","sourcesContent":["import { useCallback, useState } from \"react\";\nimport { useLazyFetch } from \"../../services/hooks\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { setList, selectCount } from \"../../features/comic/comicSlice\";\n// gateway.marvel.com/v1/public/comics?ts=1&apikey=2bc06882395b9339500cb01b1dfcbb6b&hash=5960290765b89d76491c34ed7f44521e\n\nexport default () => {\n  const comic = useSelector(selectCount);\n  const dispatch = useDispatch();\n  const [marvelComics, setMarvelComics] = useState([]);\n  const [searchComics, { loading, error }] = useLazyFetch({\n    url: `/comics?ts=1&apikey=2bc06882395b9339500cb01b1dfcbb6b&hash=5960290765b89d76491c34ed7f44521e`,\n    method: \"GET\",\n  });\n\n  const getComics = useCallback(async () => {\n    try {\n      const data = await searchComics();\n\n      if (data) {\n        console.log(\"dados marvel: \", data.data.results);\n        setMarvelComics(data.data.results);\n        dispatch(setList(data.data.results));\n      }\n    } catch (err) {\n      console.log(err);\n    }\n  }, []);\n\n  return { getComics, loading, marvelComics };\n};\n"]},"metadata":{},"sourceType":"module"}
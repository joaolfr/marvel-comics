(this["webpackJsonpmarvel-comics"]=this["webpackJsonpmarvel-comics"]||[]).push([[0],{88:function(e,t,n){},89:function(e,t,n){"use strict";n.r(t);var c,r,a,i=n(0),o=n.n(i),s=n(29),l=n.n(s),u=n(20),b=n(12),d=n.n(b),j=n(21),m=n(22),p=n(16),h=n(56),f=p.b.div(c||(c=Object(m.a)(["\n  height: 100%;\n  background: ",";\n  width: 100%;\n  align-items: center;\n  justify-content: center;\n  display: flex;\n  flex-direction: column;\n"])),(function(e){return e.theme.colors.primary})),O=p.b.button(r||(r=Object(m.a)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: space-evenly;\n  height: 70px;\n  width: 300px;\n  background: #fff;\n  border-radius: 15px;\n  outline: none;\n  border-width: 0px;\n  align-items: center;\n  transition: 0.2s;\n\n  &:hover {\n    opacity: 0.8;\n    cursor: pointer;\n    background: ",";\n\n    .ghLink {\n      color: #fff;\n    }\n    .gh-icon {\n      color: #fff;\n    }\n  }\n\n  .ghLink {\n    color: ",";\n    text-decoration: none;\n    font-size: 16px;\n  }\n"])),(function(e){return e.theme.colors.secondary}),(function(e){return e.theme.colors.primary})),g=Object(p.b)(h.a).attrs((function(){return{size:20}}))(a||(a=Object(m.a)([""]))),x=n.p+"static/media/marvel_icon.4c945f28.png",v=n(27);n(64);v.a.initializeApp({apiKey:"AIzaSyDC3JhOROFkzuBcKfoe4COuFdIr0tR6epo",authDomain:"marvel-comics-db691.firebaseapp.com",projectId:"marvel-comics-db691",storageBucket:"marvel-comics-db691.appspot.com",messagingSenderId:"955985372749",appId:"1:955985372749:web:b44a7db55cc5eb4fd89e04"});v.a;function y(){return k.apply(this,arguments)}function k(){return(k=Object(j.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new v.a.auth.GithubAuthProvider).addScope("repo"),t.addScope("name"),t.addScope("user:email"),e.next=6,v.a.auth().signInWithPopup(t);case 6:return n=e.sent,console.log("result firebase: ",n),e.abrupt("return",n);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var w,C,E=n(5),F=n(25),S=Object(F.b)({name:"user",initialState:{isLogged:!1,userEmail:""},reducers:{logIn:function(e){e.isLogged=!0},logOut:function(e){e.isLogged=!1},setUserEmail:function(e,t){e.userEmail=t.payload}}}),A=S.actions,I=A.logIn,L=A.logOut,_=A.setUserEmail,B=function(e){return e.user.isLogged},D=function(e){return e.user.userEmail},T=S.reducer,z=n(2),N=function(){Object(E.c)(B);var e=Object(E.b)(),t=function(){var t=Object(j.a)(d.a.mark((function t(){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y();case 2:n=t.sent,console.log(n.credential.accessToken,n.user.email),localStorage.setItem("accessToken",n.credential.token),localStorage.setItem("userEmail",n.user.email),e(I()),e(_(n.user.email));case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(z.jsxs)(f,{children:[Object(z.jsx)("img",{src:x,height:300}),Object(z.jsxs)(O,{onClick:function(){return t()},children:[Object(z.jsx)(g,{className:"gh-icon"}),Object(z.jsx)("span",{className:"ghLink",children:" Login with GitHub"})]})]})},R=Object(F.b)({name:"comic",initialState:{comicsList:[],value:2,selectedComic:{}},reducers:{increment:function(e){e.value+=1},decrement:function(e){e.value-=1},incrementByAmount:function(e,t){e.value+=t.payload},setList:function(e,t){e.comicsList=t.payload},setSelectedComic:function(e,t){e.selectedComic=t.payload}}}),G=R.actions,J=(G.increment,G.decrement,G.incrementByAmount,G.setList),U=G.setSelectedComic,K=function(e){return e.comic.comicsList},P=function(e){return e.comic.selectedComic},q=R.reducer,H=p.b.div(w||(w=Object(m.a)(["\n  height: 100%;\n  background: ",";\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  overflow: auto;\n  padding: 10px;\n"])),(function(e){return e.theme.colors.primary})),M=n(37),V=n(51),W=n.n(V).a.create({baseURL:"https://gateway.marvel.com/v1/public"}),Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(i.useState)(!1),n=Object(u.a)(t,2),c=n[0],r=n[1],a=Object(i.useState)(null),o=Object(u.a)(a,2),s=o[0],l=o[1],b=Object(i.useState)(null),m=Object(u.a)(b,2),p=m[0],h=m[1],f=Object(i.useCallback)(Object(j.a)(d.a.mark((function t(){var n,c,a=arguments;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.length>0&&void 0!==a[0]?a[0]:{},console.log("config : ",e),t.prev=2,r(!0),l(null),t.next=7,W.request(Object(M.a)(Object(M.a)({},e),n));case 7:return c=t.sent,r(!1),l(c.data),console.log("response: ",c.data),t.abrupt("return",c.data);case 14:t.prev=14,t.t0=t.catch(2),console.log("erros: ",t.t0),console.log("erro conf: ",e),r(!1),h(t.t0);case 20:case"end":return t.stop()}}),t,null,[[2,14]])}))),[e]);return[f,{loading:c,data:s,error:p}]},X=n(103),Y=function(e){e.email;var t=Object(E.b)();return Object(z.jsxs)("div",{children:[Object(z.jsx)("span",{children:"NAVBAR"}),Object(z.jsx)("span",{children:localStorage.getItem("userEmail")}),Object(z.jsx)("button",{onClick:function(){return t(L()),localStorage.removeItem("accessToken")},children:"Logout"})]})},Z=p.b.button(C||(C=Object(m.a)(["\n  height: 350px;\n  width: 200px;\n  background: white;\n  display: flex;\n  flex-direction: column;\n\n  &:hover {\n    opacity: 0.8;\n    cursor: pointer;\n  }\n"]))),$=n(24),ee=function(e){var t=e.uri,n=e.title,c=e.setComic;return Object(z.jsx)(Z,{onClick:function(){return c()},children:Object(z.jsxs)($.b,{to:"/detail",style:{flex:1,display:"flex",alignItems:"center",justifyContent:"flex-start",flexDirection:"column"},children:[Object(z.jsx)("img",{src:t,style:{width:"100%"}}),Object(z.jsx)("span",{children:n})]})})},te=function(){var e=Object(E.c)(K),t=Object(E.b)(),n=function(){Object(E.c)(K);var e=Object(E.b)(),t=Object(i.useState)([]),n=Object(u.a)(t,2),c=n[0],r=n[1],a=Q({url:"/comics?ts=1&apikey=2bc06882395b9339500cb01b1dfcbb6b&hash=5960290765b89d76491c34ed7f44521e",method:"GET"}),o=Object(u.a)(a,2),s=o[0],l=o[1],b=l.loading;return l.error,{getComics:Object(i.useCallback)(Object(j.a)(d.a.mark((function t(){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s();case 3:(n=t.sent)&&(console.log("dados marvel: ",n.data.results),r(n.data.results),e(J(n.data.results))),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])}))),[]),loading:b,marvelComics:c}}(),c=n.getComics,r=n.loading;n.marvelComics;return Object(i.useEffect)((function(){0===e.length&&c(),console.log("comig: ",e)}),[]),Object(z.jsxs)(H,{children:[Object(z.jsx)("span",{style:{color:"#fff"},children:"home"}),Object(z.jsxs)(X.a,{container:!0,spacing:2,children:[r&&Object(z.jsx)("span",{children:"carregando comics"}),!r&&e!==[]&&e.map((function(e,n){return Object(z.jsx)(X.a,{item:!0,xs:12,sm:6,md:4,style:{display:"flex",flexDirection:"column"},children:Object(z.jsx)(ee,{title:e.title,uri:e.thumbnail.path+"/portrait_fantastic.jpg",setComic:function(){return function(e){t(U(e))}(e)}})},n)}))]})]})},ne=function(){var e=Object(E.c)(P);Object(E.b)();return Object(i.useEffect)((function(){console.log("comic selecionado: ",e)}),[]),Object(z.jsxs)("div",{children:[Object(z.jsx)("img",{src:e.thumbnail.path+"/portrait_fantastic.jpg"}),Object(z.jsx)("br",{}),Object(z.jsx)("hr",{}),Object(z.jsxs)("span",{children:["Title: ",e.title]}),Object(z.jsx)("br",{}),e.characters.available>0&&Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)("span",{children:"Characters: "}),e.characters.items.map((function(e,t){return Object(z.jsxs)("span",{children:[" ",e.name]},t)}))]}),Object(z.jsx)("hr",{}),Object(z.jsx)("span",{children:e.description}),Object(z.jsx)($.b,{to:"/home",children:"go home"})]})},ce=(n(88),{colors:{primary:"#031138",primary_dark:"#1E1A1A",primary_light:"#2E2C2C",primary_sub:"#D2D1D1",secondary:"#1d1d1d",secondary_dark:"#459A77",secondary_light:"#A2D7C1",secondary_sub:"#D0F5E6",ligth:"#FFFFFF",ligth_dark:"#EFEAEE",ligth_light:"#FFFBFE",ligth_sub:"#EAE8E8",auxiliary:"#f2f2f2",auxiliary_dark:"#3B6F86",auxiliary_light:"#66A8C5",auxiliary_sub:"#B6DBE1",text:"#000000",placeholder:"#efeaee",white:"#FFF"}}),re=n(4);var ae=function(){var e=Object(E.c)(B),t=Object(E.c)(D),n=Object(E.b)(),c=Object(i.useState)(ce),r=Object(u.a)(c,2),a=r[0];return r[1],Object(i.useEffect)((function(){console.log("is logged: ",e),localStorage.getItem("accessToken")&&n(I())}),[]),Object(z.jsx)(p.a,{theme:a,children:Object(z.jsxs)("div",{className:"App",children:[!e&&Object(z.jsx)(N,{}),e&&Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(Y,{email:t}),Object(z.jsx)($.a,{children:Object(z.jsxs)(re.c,{children:[Object(z.jsx)(re.a,{path:"/home",exact:!0,component:te}),Object(z.jsx)(re.a,{path:"/detail",component:ne})]})})]})]})})},ie=Object(F.a)({reducer:{comic:q,user:T}});l.a.render(Object(z.jsx)(o.a.StrictMode,{children:Object(z.jsx)(E.a,{store:ie,children:Object(z.jsx)(ae,{})})}),document.getElementById("root"))}},[[89,1,2]]]);
//# sourceMappingURL=main.c6e39883.chunk.js.map
{"ast":null,"code":"import _slicedToArray from\"/Users/joaoluiz/Documents/workspace/ReactJs/marvel-comics/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{Login,Home,ComicDetail}from\"./screens\";import\"./App.css\";import{ThemeProvider}from\"styled-components\";import{Light,Dark}from\"./theme\";import{BrowserRouter,Switch,Route}from\"react-router-dom\";import{Navbar}from\"./components\";import{useAuth}from\"./services/hooks\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function App(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isLogged=_useState2[0],setIsLogged=_useState2[1];var _useState3=useState(Dark),_useState4=_slicedToArray(_useState3,2),currentTheme=_useState4[0],setCurrentTheme=_useState4[1];var _useAuth=useAuth(),getUserToken=_useAuth.getUserToken;var url=window.location.href;useEffect(function(){console.log(\"mudou rota: \",url);var hasCode=url.includes(\"?code=\");if(hasCode){setIsLogged(true);var urlLength=url.lengtht;var index=url.indexOf(\"=\")+1;var code=url.slice(index,urlLength);getUserToken(code);}},[url]);return/*#__PURE__*/_jsx(ThemeProvider,{theme:currentTheme,children:/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[!isLogged&&/*#__PURE__*/_jsx(Login,{}),isLogged&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsx(BrowserRouter,{children:/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsx(Route,{path:\"/home\",component:Home}),/*#__PURE__*/_jsx(Route,{path:\"/detail\",component:ComicDetail})]})})]})]})});}export default App;","map":{"version":3,"sources":["/Users/joaoluiz/Documents/workspace/ReactJs/marvel-comics/src/App.js"],"names":["React","useState","useEffect","Login","Home","ComicDetail","ThemeProvider","Light","Dark","BrowserRouter","Switch","Route","Navbar","useAuth","App","isLogged","setIsLogged","currentTheme","setCurrentTheme","getUserToken","url","window","location","href","console","log","hasCode","includes","urlLength","lengtht","index","indexOf","code","slice"],"mappings":"gLAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAASC,KAAT,CAAgBC,IAAhB,CAAsBC,WAAtB,KAAyC,WAAzC,CACA,MAAO,WAAP,CACA,OAASC,aAAT,KAA8B,mBAA9B,CACA,OAASC,KAAT,CAAgBC,IAAhB,KAA4B,SAA5B,CACA,OAASC,aAAT,CAAwBC,MAAxB,CAAgCC,KAAhC,KAA6C,kBAA7C,CACA,OAASC,MAAT,KAAuB,cAAvB,CACA,OAASC,OAAT,KAAwB,kBAAxB,C,6IAEA,QAASC,CAAAA,GAAT,EAAe,eACmBb,QAAQ,CAAC,KAAD,CAD3B,wCACNc,QADM,eACIC,WADJ,8BAE2Bf,QAAQ,CAACO,IAAD,CAFnC,yCAENS,YAFM,eAEQC,eAFR,4BAGYL,OAAO,EAHnB,CAGLM,YAHK,UAGLA,YAHK,CAKb,GAAMC,CAAAA,GAAG,CAAGC,MAAM,CAACC,QAAP,CAAgBC,IAA5B,CAEArB,SAAS,CAAC,UAAM,CACdsB,OAAO,CAACC,GAAR,CAAY,cAAZ,CAA4BL,GAA5B,EACA,GAAMM,CAAAA,OAAO,CAAGN,GAAG,CAACO,QAAJ,CAAa,QAAb,CAAhB,CAEA,GAAID,OAAJ,CAAa,CACXV,WAAW,CAAC,IAAD,CAAX,CACA,GAAIY,CAAAA,SAAS,CAAGR,GAAG,CAACS,OAApB,CACA,GAAIC,CAAAA,KAAK,CAAGV,GAAG,CAACW,OAAJ,CAAY,GAAZ,EAAmB,CAA/B,CACA,GAAIC,CAAAA,IAAI,CAAGZ,GAAG,CAACa,KAAJ,CAAUH,KAAV,CAAiBF,SAAjB,CAAX,CACAT,YAAY,CAACa,IAAD,CAAZ,CACD,CACF,CAXQ,CAWN,CAACZ,GAAD,CAXM,CAAT,CAaA,mBACE,KAAC,aAAD,EAAe,KAAK,CAAEH,YAAtB,uBACE,aAAK,SAAS,CAAC,KAAf,WACG,CAACF,QAAD,eAAa,KAAC,KAAD,IADhB,CAEGA,QAAQ,eACP,wCACE,KAAC,MAAD,IADF,cAEE,KAAC,aAAD,wBACE,MAAC,MAAD,yBAEE,KAAC,KAAD,EAAO,IAAI,CAAC,OAAZ,CAAoB,SAAS,CAAEX,IAA/B,EAFF,cAGE,KAAC,KAAD,EAAO,IAAI,CAAC,SAAZ,CAAsB,SAAS,CAAEC,WAAjC,EAHF,GADF,EAFF,GAHJ,GADF,EADF,CAoBD,CAED,cAAeS,CAAAA,GAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Login, Home, ComicDetail } from \"./screens\";\nimport \"./App.css\";\nimport { ThemeProvider } from \"styled-components\";\nimport { Light, Dark } from \"./theme\";\nimport { BrowserRouter, Switch, Route } from \"react-router-dom\";\nimport { Navbar } from \"./components\";\nimport { useAuth } from \"./services/hooks\";\n\nfunction App() {\n  const [isLogged, setIsLogged] = useState(false);\n  const [currentTheme, setCurrentTheme] = useState(Dark);\n  const { getUserToken } = useAuth();\n\n  const url = window.location.href;\n\n  useEffect(() => {\n    console.log(\"mudou rota: \", url);\n    const hasCode = url.includes(\"?code=\");\n\n    if (hasCode) {\n      setIsLogged(true);\n      let urlLength = url.lengtht;\n      let index = url.indexOf(\"=\") + 1;\n      let code = url.slice(index, urlLength);\n      getUserToken(code);\n    }\n  }, [url]);\n\n  return (\n    <ThemeProvider theme={currentTheme}>\n      <div className=\"App\">\n        {!isLogged && <Login />}\n        {isLogged && (\n          <>\n            <Navbar />\n            <BrowserRouter>\n              <Switch>\n                {/* <Route path=\"/login\" exact={true} component={Login} /> */}\n                <Route path=\"/home\" component={Home} />\n                <Route path=\"/detail\" component={ComicDetail} />\n                {/* <Route path=\"*\"  component={404} /> */}\n              </Switch>\n            </BrowserRouter>\n          </>\n        )}\n      </div>\n    </ThemeProvider>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}
(this["webpackJsonpmarvel-comics"]=this["webpackJsonpmarvel-comics"]||[]).push([[0],{83:function(e,t,n){},84:function(e,t,n){"use strict";n.r(t);var c,r,o,i=n(0),a=n.n(i),s=n(23),l=n.n(s),u=n(14),d=(n(58),n(19)),b=n(12),j=n(28),h=b.b.div(c||(c=Object(d.a)(["\n  height: 100%;\n  background: ",";\n  width: 100%;\n  align-items: center;\n  justify-content: center;\n  display: flex;\n  flex-direction: column;\n"])),(function(e){return e.theme.colors.primary})),f=b.b.button(r||(r=Object(d.a)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: space-evenly;\n  height: 70px;\n  width: 300px;\n  background: #fff;\n  border-radius: 15px;\n  outline: none;\n  border-width: 0px;\n  align-items: center;\n  transition: 0.2s;\n\n  &:hover {\n    opacity: 0.8;\n    cursor: pointer;\n    background: ",";\n\n    .ghLink {\n      color: #fff;\n    }\n    .gh-icon {\n      color: #fff;\n    }\n  }\n\n  .ghLink {\n    color: ",";\n    text-decoration: none;\n    font-size: 16px;\n  }\n"])),(function(e){return e.theme.colors.secondary}),(function(e){return e.theme.colors.primary})),m=Object(b.b)(j.a).attrs((function(){return{size:20}}))(o||(o=Object(d.a)([""]))),p=n.p+"static/media/marvel_icon.4c945f28.png",x=n(2),O=function(){return Object(x.jsxs)(h,{children:[Object(x.jsx)("img",{src:p,height:300}),Object(x.jsx)("a",{style:{textDecoration:"none"},href:"https://github.com/login/oauth/authorize?scope=user&client_id=69a6191348c6dd209edb&redirect_uri=http://localhost:3000/home",children:Object(x.jsxs)(f,{children:[Object(x.jsx)(m,{className:"gh-icon"}),Object(x.jsx)("span",{className:"ghLink",children:" Login with GitHub"})]})})]})},g=n(10),v=n(26);var y,k,w=Object(v.b)({name:"comic",initialState:{comicsList:[],value:2,selectedComic:{}},reducers:{increment:function(e){e.value+=1},decrement:function(e){e.value-=1},incrementByAmount:function(e,t){e.value+=t.payload},setList:function(e,t){e.comicsList=t.payload},setSelectedComic:function(e,t){e.selectedComic=t.payload}}}),C=w.actions,_=(C.increment,C.decrement,C.incrementByAmount,C.setList),E=C.setSelectedComic,F=function(e){return e.comic.comicsList},A=function(e){return e.comic.selectedComic},S=w.reducer,L=b.b.div(y||(y=Object(d.a)(["\n  height: 100%;\n  background: ",";\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  overflow: auto;\n  padding: 10px;\n"])),(function(e){return e.theme.colors.primary})),D=n(17),B=n.n(D),N=n(21),T=n(34),z=n(24),U=n.n(z),G=U.a.create({baseURL:"https://gateway.marvel.com/v1/public"}),I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(i.useState)(!1),n=Object(u.a)(t,2),c=n[0],r=n[1],o=Object(i.useState)(null),a=Object(u.a)(o,2),s=a[0],l=a[1],d=Object(i.useState)(null),b=Object(u.a)(d,2),j=b[0],h=b[1],f=Object(i.useCallback)(Object(N.a)(B.a.mark((function t(){var n,c,o=arguments;return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=o.length>0&&void 0!==o[0]?o[0]:{},console.log("config : ",e),t.prev=2,r(!0),l(null),t.next=7,G.request(Object(T.a)(Object(T.a)({},e),n));case 7:return c=t.sent,r(!1),l(c.data),console.log("response: ",c.data),t.abrupt("return",c.data);case 14:t.prev=14,t.t0=t.catch(2),console.log("erros: ",t.t0),console.log("erro conf: ",e),r(!1),h(t.t0);case 20:case"end":return t.stop()}}),t,null,[[2,14]])}))),[e]);return[f,{loading:c,data:s,error:j}]},J=function(){return{getUserToken:Object(i.useCallback)(function(){var e=Object(N.a)(B.a.mark((function e(t){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("userCode: ","1b5ce75deba6de0ac224441c9a0f915257ece903"),e.prev=1,e.next=4,U()({url:"https://github.com/login/oauth/access_token",method:"POST",data:{client_secret:"1b5ce75deba6de0ac224441c9a0f915257ece903",client_id:"69a6191348c6dd209edb",code:t}}).then((function(e){console.log("repsposta do token: ",e)})).catch((function(e){console.log("err: ",e)}));case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}(),[])}},R=n(98),q=function(){return Object(x.jsx)("span",{children:"NAVBAR"})},H=b.b.button(k||(k=Object(d.a)(["\n  height: 350px;\n  width: 200px;\n  background: white;\n  display: flex;\n  flex-direction: column;\n\n  &:hover {\n    opacity: 0.8;\n    cursor: pointer;\n  }\n"]))),M=n(18),P=function(e){var t=e.uri,n=e.title,c=e.setComic;return Object(x.jsx)(H,{onClick:function(){return c()},children:Object(x.jsxs)(M.b,{to:"/detail",style:{flex:1,display:"flex",alignItems:"center",justifyContent:"flex-start",flexDirection:"column"},children:[Object(x.jsx)("img",{src:t,style:{width:"100%"}}),Object(x.jsx)("span",{children:n})]})})},V=function(){var e=Object(g.c)(F),t=Object(g.b)(),n=function(){Object(g.c)(F);var e=Object(g.b)(),t=Object(i.useState)([]),n=Object(u.a)(t,2),c=n[0],r=n[1],o=I({url:"/comics?ts=1&apikey=2bc06882395b9339500cb01b1dfcbb6b&hash=5960290765b89d76491c34ed7f44521e",method:"GET"}),a=Object(u.a)(o,2),s=a[0],l=a[1],d=l.loading;return l.error,{getComics:Object(i.useCallback)(Object(N.a)(B.a.mark((function t(){var n;return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s();case 3:(n=t.sent)&&(console.log("dados marvel: ",n.data.results),r(n.data.results),e(_(n.data.results))),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])}))),[]),loading:d,marvelComics:c}}(),c=n.getComics,r=n.loading;n.marvelComics;return Object(i.useEffect)((function(){0===e.length&&c(),console.log("comig: ",e)}),[]),Object(x.jsxs)(L,{children:[Object(x.jsx)("span",{style:{color:"#fff"},children:"home"}),Object(x.jsxs)(R.a,{container:!0,spacing:2,children:[r&&Object(x.jsx)("span",{children:"carregando comics"}),!r&&e!==[]&&e.map((function(e,n){return Object(x.jsx)(R.a,{item:!0,xs:12,sm:6,md:4,style:{display:"flex",flexDirection:"column"},children:Object(x.jsx)(P,{title:e.title,uri:e.thumbnail.path+"/portrait_fantastic.jpg",setComic:function(){return function(e){t(E(e))}(e)}})})}))]})]})},K=function(){var e=Object(g.c)(A);Object(g.b)();return Object(i.useEffect)((function(){console.log("comic selecionado: ",e)}),[]),Object(x.jsxs)("div",{children:[Object(x.jsx)("span",{children:e.characters.items[0].name}),Object(x.jsx)("hr",{}),Object(x.jsx)("span",{children:e.description}),Object(x.jsx)("img",{src:"http://gateway.marvel.com/v1/public/creators/370/portrait_xlarge.jpg"}),Object(x.jsx)(M.b,{to:"/home",children:"go home"})]})},Q=(n(83),{colors:{primary:"#031138",primary_dark:"#1E1A1A",primary_light:"#2E2C2C",primary_sub:"#D2D1D1",secondary:"#1d1d1d",secondary_dark:"#459A77",secondary_light:"#A2D7C1",secondary_sub:"#D0F5E6",ligth:"#FFFFFF",ligth_dark:"#EFEAEE",ligth_light:"#FFFBFE",ligth_sub:"#EAE8E8",auxiliary:"#f2f2f2",auxiliary_dark:"#3B6F86",auxiliary_light:"#66A8C5",auxiliary_sub:"#B6DBE1",text:"#000000",placeholder:"#efeaee",white:"#FFF"}}),W=n(3);var X=function(){var e=Object(i.useState)(!1),t=Object(u.a)(e,2),n=t[0],c=t[1],r=Object(i.useState)(Q),o=Object(u.a)(r,2),a=o[0],s=(o[1],J().getUserToken),l=window.location.href;return Object(i.useEffect)((function(){if(console.log("mudou rota: ",l),l.includes("?code=")){c(!0);var e=l.lengtht,t=l.indexOf("=")+1,n=l.slice(t,e);s(n)}}),[l]),Object(x.jsx)(b.a,{theme:a,children:Object(x.jsxs)("div",{className:"App",children:[!n&&Object(x.jsx)(O,{}),n&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(q,{}),Object(x.jsx)(M.a,{children:Object(x.jsxs)(W.c,{children:[Object(x.jsx)(W.a,{path:"/home",component:V}),Object(x.jsx)(W.a,{path:"/detail",component:K})]})})]})]})})},Y=Object(v.a)({reducer:{comic:S}});l.a.render(Object(x.jsx)(a.a.StrictMode,{children:Object(x.jsx)(g.a,{store:Y,children:Object(x.jsx)(X,{})})}),document.getElementById("root"))}},[[84,1,2]]]);
//# sourceMappingURL=main.62a79074.chunk.js.map